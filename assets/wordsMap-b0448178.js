import{_ as C,r as R,c as a,g as l,w as u,h as K,p as w,q as f,a as b,f as d,o,i as B,H as i,I as p,e as v}from"./index-8e7bf8f6.js";import{N as y}from"./NoteItem-a714bcef.js";import{w as m}from"./aawords-32ca6d9f.js";const N={class:"words-map"},S={style:{width:"100%"},action:"/"},I={__name:"wordsMap",setup(O){const L=b(),e=R({activeLetter:null,wordsList:{},letterMap:[],search:{show:!1,formKey:"",searchResult:{}}});function M(){e.wordsList={},e.letterMap=Object.keys(m),e.letterMap.map(r=>{const s=Object.keys(m[r]).sort();return e.wordsList[r]=s.map(n=>({wordKey:n,...m[r][n]})),!0}),console.log(e.wordsList)}function V(){L.push({path:"/english"})}function k(){e.search.show=!0,e.search.searchResult={};const r=e.search.formKey.toLowerCase();e.letterMap.map(s=>(e.search.searchResult[s]=e.wordsList[s].filter(n=>n.wordKey.toLowerCase().indexOf(r)>-1),!0))}function g(){e.search.show=!1,e.search.searchResult={}}return M(),(r,s)=>{const n=d("van-button"),x=d("van-search"),_=d("van-collapse-item"),h=d("van-collapse");return o(),a("div",N,[l(n,{plain:"",size:"small",onClick:V},{default:u(()=>[B("返回")]),_:1}),K("form",S,[l(x,{modelValue:e.search.formKey,"onUpdate:modelValue":s[0]||(s[0]=t=>e.search.formKey=t),"show-action":"",placeholder:"请输入单词",onSearch:k,onCancel:g},null,8,["modelValue"])]),w(l(h,{modelValue:e.letterMap,"onUpdate:modelValue":s[1]||(s[1]=t=>e.letterMap=t)},{default:u(()=>[(o(!0),a(i,null,p(e.letterMap,t=>(o(),v(_,{key:"collapse_"+t,title:t+"("+e.wordsList[t].length+")",name:t},{default:u(()=>[(o(!0),a(i,null,p(e.search.searchResult[t],c=>(o(),a("div",{class:"letter-item",key:"search_"+c.wordKey},[l(y,{note:c.wordKey},null,8,["note"])]))),128))]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"]),[[f,e.search.show]]),w(l(h,{modelValue:e.activeLetter,"onUpdate:modelValue":s[2]||(s[2]=t=>e.activeLetter=t),accordion:""},{default:u(()=>[(o(!0),a(i,null,p(e.letterMap,t=>(o(),v(_,{key:"collapse_"+t,title:t+"("+e.wordsList[t].length+")",name:t},{default:u(()=>[(o(!0),a(i,null,p(e.wordsList[t],c=>(o(),a("div",{class:"letter-item",key:c.wordKey},[l(y,{note:c.wordKey},null,8,["note"])]))),128))]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"]),[[f,!e.search.show]])])}}},H=C(I,[["__scopeId","data-v-46def834"]]);export{H as default};
