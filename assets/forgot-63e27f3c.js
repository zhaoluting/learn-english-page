import{r as k,j as C,e as S,w as t,u as p,a as B,f as s,o as P,g as e,i,h as d,m as f,s as h,v as L}from"./index-8e7bf8f6.js";import{Y as N}from"./index-df75ac39.js";import{L as T}from"./index-41469cca.js";const U=d("p",{class:"notice"},"若您忘记了密码，可在此处重新设置您的新密码",-1),Y={class:"form-btn"},j={class:"handle"},_="onBlur",A={__name:"forgot",setup(q){const b=B(),a=k({phone:"",password:"",code:""}),c={phone:[{validator:(n,o)=>n?L(n)?!0:"手机号格式不正确！":"请填写手机号码！",trigger:_}],password:[{required:!0,message:"密码不能为空",trigger:_}],code:[{pattern:/\d{6}/,message:"验证码格式不正确",trigger:_}]},v=C(()=>{const{phone:n,password:o,code:l}=a;return!!(n&&o&&l)});async function g(){try{f("短信发送成功")}catch{h("获取短信失败，请稍后再试...")}}const w=async n=>{try{f("注册成功")}catch{h("注册失败，请稍后再试...")}};return(n,o)=>{const l=s("van-field"),m=s("van-col"),u=s("van-button"),y=s("van-row"),V=s("van-cell-group"),x=s("van-form");return P(),S(p(T),null,{body:t(()=>[U,e(x,{"label-width":"0",onSubmit:w},{default:t(()=>[e(V,{inset:""},{default:t(()=>[e(l,{modelValue:a.phone,"onUpdate:modelValue":o[0]||(o[0]=r=>a.phone=r),rules:c.phone,name:"phone",label:"",placeholder:"手机号",maxlength:"11",clearable:""},null,8,["modelValue","rules"]),e(p(N),{password:a.password,rules:c.password,placeholder:"请输入新密码",label:"",clearable:!0},null,8,["password","rules"]),e(y,{gutter:"20"},{default:t(()=>[e(m,{span:"16"},{default:t(()=>[e(l,{modelValue:a.code,"onUpdate:modelValue":o[1]||(o[1]=r=>a.code=r),rules:c.code,name:"code",label:"",placeholder:"验证码",maxlength:"6",clearable:""},null,8,["modelValue","rules"])]),_:1}),e(m,{span:"8"},{default:t(()=>[e(u,{disabled:!a.phone,plain:"",hairline:"",round:"",size:"small",onClick:g,class:"code-btn"},{default:t(()=>[i("获取验证码")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1}),d("div",Y,[e(u,{round:"",block:"",type:"primary","native-type":"submit",class:"btn-item h50",disabled:!v.value},{default:t(()=>[i(" 修改密码 ")]),_:1},8,["disabled"])])]),_:1})]),foot:t(()=>[d("div",null,[d("div",j,[e(u,{plain:"",class:"txt-btn no-border yellow-btn",onClick:o[2]||(o[2]=r=>p(b).push("/login"))},{default:t(()=>[i("前往登录")]),_:1})])])]),_:1})}}};export{A as default};
