import{U as Ct,V as Ot,W as _t,X as St,Y as Mt,Z as jt,$ as kt,H as Ue,a0 as Et,a1 as Dt,a2 as It,a3 as Tt,a4 as Rt,a5 as At,a6 as $t,a7 as xt,a8 as Pt,a9 as qt,aa as Wt,ab as Lt,ac as Nt,ad as Vt,ae as zt,af as Ut,ag as Ht,ah as Ft,j as ve,ai as Bt,e as We,R as je,c as F,h as C,aj as Kt,ak as Gt,al as Yt,am as Jt,an as Xt,ao as Qt,i as A,g as j,ap as Zt,aq as en,d as Ye,ar as tn,as as nn,at as an,au as on,av as rn,aw as sn,ax as ln,ay as un,az as cn,aA as fn,aB as dn,aC as vn,aD as hn,aE as mn,aF as pn,A as gn,aG as yn,aH as bn,aI as wn,aJ as Cn,aK as On,aL as _n,aM as Sn,aN as Mn,aO as jn,aP as kn,aQ as En,aR as Dn,aS as In,aT as Tn,aU as Rn,aV as An,aW as $n,N as tt,D as xn,S as Te,aX as Pn,T as Re,aY as qn,aZ as Wn,F as nt,G as Ln,a_ as Nn,a$ as Vn,E as at,b0 as zn,b1 as Un,b2 as Hn,b3 as Fn,b4 as Bn,B as Kn,o as W,z as ot,C as Gn,b5 as Yn,y as rt,b6 as Jn,r as He,b7 as Xn,k as w,b8 as Qn,b9 as Zn,I as Fe,t as Le,f as Me,ba as ea,bb as ta,bc as na,bd as aa,be as oa,bf as ra,bg as ia,bh as sa,bi as la,bj as ua,bk as ca,bl as fa,bm as da,x as oe,bn as va,bo as ha,bp as it,bq as ma,br as st,bs as pa,bt as ga,bu as ya,u as Ne,bv as ba,bw as wa,bx as Ca,by as Oa,bz as _a,bA as Sa,bB as Ma,bC as ja,bD as ka,bE as Ea,bF as Da,bG as Ia,q as Ta,bH as Ra,bI as Aa,n as Ve,bJ as $a,bK as xa,bL as Pa,bM as qa,w as x,bN as Wa,p as La,bO as Na,bP as Va,bQ as za,bR as Ua,bS as Ha,bT as Fa,bU as Ba,_ as lt,a as Ka}from"./index-62c15d61.js";import{d as Ga,g as Ya,a as Ja,b as Xa,i as Xe,c as Qa,v as Za,L as eo,W as to,e as no}from"./index-a69beedb.js";import{N as ao}from"./NoteItem-c259d461.js";import{s as oo}from"./aalist-8410f228.js";/**
* vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ro=()=>{},io=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Ct,BaseTransitionPropsValidators:Ot,Comment:_t,DeprecationTypes:St,EffectScope:Mt,ErrorCodes:jt,ErrorTypeStrings:kt,Fragment:Ue,KeepAlive:Et,ReactiveEffect:Dt,Static:It,Suspense:Tt,Teleport:Rt,Text:At,TrackOpTypes:$t,Transition:xt,TransitionGroup:Pt,TriggerOpTypes:qt,VueElement:Wt,assertNumber:Lt,callWithAsyncErrorHandling:Nt,callWithErrorHandling:Vt,camelize:zt,capitalize:Ut,cloneVNode:Ht,compatUtils:Ft,compile:ro,computed:ve,createApp:Bt,createBlock:We,createCommentVNode:je,createElementBlock:F,createElementVNode:C,createHydrationRenderer:Kt,createPropsRestProxy:Gt,createRenderer:Yt,createSSRApp:Jt,createSlots:Xt,createStaticVNode:Qt,createTextVNode:A,createVNode:j,customRef:Zt,defineAsyncComponent:en,defineComponent:Ye,defineCustomElement:tn,defineEmits:nn,defineExpose:an,defineModel:on,defineOptions:rn,defineProps:sn,defineSSRCustomElement:ln,defineSlots:un,devtools:cn,effect:fn,effectScope:dn,getCurrentInstance:vn,getCurrentScope:hn,getTransitionRawChildren:mn,guardReactiveProps:pn,h:gn,handleError:yn,hasInjectionContext:bn,hydrate:wn,initCustomFormatter:Cn,initDirectivesForSSR:On,inject:_n,isMemoSame:Sn,isProxy:Mn,isReactive:jn,isReadonly:kn,isRef:En,isRuntimeOnly:Dn,isShallow:In,isVNode:Tn,markRaw:Rn,mergeDefaults:An,mergeModels:$n,mergeProps:tt,nextTick:xn,normalizeClass:Te,normalizeProps:Pn,normalizeStyle:Re,onActivated:qn,onBeforeMount:Wn,onBeforeUnmount:nt,onBeforeUpdate:Ln,onDeactivated:Nn,onErrorCaptured:Vn,onMounted:at,onRenderTracked:zn,onRenderTriggered:Un,onScopeDispose:Hn,onServerPrefetch:Fn,onUnmounted:Bn,onUpdated:Kn,openBlock:W,popScopeId:ot,provide:Gn,proxyRefs:Yn,pushScopeId:rt,queuePostFlushCb:Jn,reactive:He,readonly:Xn,ref:w,registerRuntimeCompiler:Qn,render:Zn,renderList:Fe,renderSlot:Le,resolveComponent:Me,resolveDirective:ea,resolveDynamicComponent:ta,resolveFilter:na,resolveTransitionHooks:aa,setBlockTracking:oa,setDevtoolsHook:ra,setTransitionHooks:ia,shallowReactive:sa,shallowReadonly:la,shallowRef:ua,ssrContextKey:ca,ssrUtils:fa,stop:da,toDisplayString:oe,toHandlerKey:va,toHandlers:ha,toRaw:it,toRef:ma,toRefs:st,toValue:pa,transformVNodeArgs:ga,triggerRef:ya,unref:Ne,useAttrs:ba,useCssModule:wa,useCssVars:Ca,useModel:Oa,useSSRContext:_a,useSlots:Sa,useTransitionState:Ma,vModelCheckbox:ja,vModelDynamic:ka,vModelRadio:Ea,vModelSelect:Da,vModelText:Ia,vShow:Ta,version:Ra,warn:Aa,watch:Ve,watchEffect:$a,watchPostEffect:xa,watchSyncEffect:Pa,withAsyncContext:qa,withCtx:x,withDefaults:Wa,withDirectives:La,withKeys:Na,withMemo:Va,withModifiers:za,withScopeId:Ua},Symbol.toStringTag,{value:"Module"})),ze={URL_REGEX:/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/i,toURL:(e,o,a)=>{let u="",c=e||document.location.origin;if(o=o||!1,typeof a=="object"&&Object.keys(a).length>0){for(const n in a)u+=n+"="+a[n]+"&";u=u.substring(0,u.length-1)}c+="?"+u,a||(c=c.substring(0,c.length-1)),o?window.open(c):window.location.replace(c)},getQuery:(e,o)=>{if(e){const a=o||window.location.search||window.location.hash,u=a.substring(a.indexOf("?")+1),c=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=unescape(u).match(c);return n!==null?n[2]:null}return null},getAllQuery:e=>{if(!e)return{};let o=[];e.indexOf("?")>-1&&(o=e.substring(e.indexOf("?")+1).split("&"));const a={};for(let u=0,c=o.length;u<c;u++){const n=o[u].split("=")[0];a[n]=decodeURI(o[u].split("=")[1])}return a},param2Obj:e=>{const o=decodeURIComponent(e.split("?")[1]).replace(/\+/g," ");if(!o)return{};const a={};return o.split("&").forEach(c=>{const n=c.indexOf("=");if(n!==-1){const f=c.substring(0,n),_=c.substring(n+1,c.length);a[f]=_}}),a},appendQuery:(e,o)=>{let a=e;if(typeof o!="object"||!ze.URL_REGEX.test(e))return a;e.indexOf("?")>0&&(a=e.substr(0,e.indexOf("?")));const u=[],c=ze.getAllQuery(e),n=Object.assign(c,o);return Object.keys(n).forEach(f=>{let _=n[f];typeof _>"u"&&(_=""),u.push([f,ze.encodeURIComponentSafe(_)].join("="))}),`${a}?${u.join("&")}`},encodeURIComponentSafe(e){try{return encodeURIComponent(e)}catch{return console.log("URI Component not encodeable: "+e),e}}},so=ze,lo=""+new URL("poster_bg0-02e81899.png",import.meta.url).href;var ut={exports:{}};const uo=Ha(io);(function(e,o){(function(a,u){e.exports=u(uo)})(Fa,function(a){function u(t){return typeof t=="function"}function c(){}var n=function(t){this.previousValue=t,this.interrupted=!1,this.interruptHandlers=new Set};n.prototype.throwIfInterrupted=function(){if(this.interrupted)throw new Error},n.prototype.interrupt=function(){this.interrupted||(this.interrupted=!0,this.interruptHandlers.forEach(function(t){try{t()}catch{}}))},n.prototype.onInterrupt=function(t){if(this.interrupted&&!this.interruptHandlers.has(t))try{t()}catch{}this.interruptHandlers.add(t)};var f="asyncComputed_",_=f+"promise_",L=f+"trigger_";function B(t){return function(){return t}}function se(){return[]}var me={animationDuration:{type:Number,default:1e3},animationEasing:{type:String,default:"ease"},animationOverlap:{type:Number,default:1},color:{type:[String,Function],default:"Black"},createCanvas:{type:Function,default:function(){return document.createElement("canvas")}},createWorker:{type:Function,default:function(t){return new Worker(URL.createObjectURL(new Blob([t])))}},enterAnimation:{type:[Object,String],default:B({opacity:0})},fontFamily:{type:[String,Function],default:"serif"},fontSizeRatio:{type:Number,default:0},fontStyle:{type:[String,Function],default:"normal"},fontVariant:{type:[String,Function],default:"normal"},fontWeight:{type:[String,Function],default:"normal"},leaveAnimation:{type:[Object,String],default:B({opacity:0})},loadFont:{type:Function,default:function(t,i,l,s){return document.fonts.load([i,l,"1px",t].join(" "),s)}},rotation:{type:[Number,Function],default:0},rotationUnit:{type:[String,Function],default:"turn"},spacing:{type:Number,default:0},text:{type:[String,Function],default:""},weight:{type:[Number,Function],default:1},words:{type:Array,default:se}},re=B(null);function Q(t){if(t){var i=typeof t;return i==="object"||i==="function"}return!1}function ee(t){return typeof t=="string"}var le={animationOptions:function(){var t,i,l,s=this,g=s.animationDuration,d=s.enterAnimation,r=s.leaveAnimation;if(Q(d)&&Q(r)){var y=(t=Object.assign({},d,r),i=re,l={},Object.entries(t).forEach(function(S){var $=S[0],Y=S[1];l[$]=i(Y,$,t)}),l),k=function(S){Object.assign(S.style,d)},E=function(S,$){setTimeout(function(){Object.assign(S.style,y),setTimeout($,g)},1)};return{props:{css:!1},on:{beforeAppear:k,appear:E,beforeEnter:k,enter:E,leave:function(S,$){Object.assign(S.style,r),setTimeout($,g)}}}}return ee(d)&&ee(r)?{props:{duration:g,appear:!0,appearActiveClass:d,enterActiveClass:d,leaveActiveClass:r}}:{}},normalizedAnimationOverlap:function(){var t=this.animationOverlap;return(t=Math.abs(t))<1&&(t=1/t),t},separateAnimationDelay:function(){var t=this.cloudWords;return t.length>1?(this.animationDuration-this.separateAnimationDuration)/(t.length-1):0},separateAnimationDuration:function(){var t=this.cloudWords;if(t.length>0){var i=this.animationDuration,l=this.normalizedAnimationOverlap;return i/Math.min(l,t.length)}return 0}},pe=Array.isArray;function N(t){return u(t)?t:B(t)}var K=2*Math.PI,G=K/360;function I(t){return t===void 0}function h(t,i){return t.postMessage(i),function(l){return new Promise(function(s,g){var d,r=function(k){var E=k.data;d(),s(E)},y=function(k){var E=k.error;d(),g(E)};d=function(){l.removeEventListener("message",r),l.removeEventListener("error",y)},l.addEventListener("message",r),l.addEventListener("error",y)})}(t)}function P(t,i,l){return Math.ceil(t*Math.abs(Math.sin(l))+i*Math.abs(Math.cos(l)))}function ue(t,i,l){return Math.ceil(t*Math.abs(Math.cos(l))+i*Math.abs(Math.sin(l)))}function ge(t,i,l,s,g){return[t,i,l,s+"px",g].join(" ")}function Ce(t,i){return Math.ceil(t/i)*i}function O(t,i,l){var s=l().getContext("2d");return s.font=i,s.measureText(t).width}var Ae=function(t,i,l,s,g,d,r){this.t=t,this.i=i,this.o=l,this.u=s,this.l=g,this.v=d,this.m=r,this.p=1,this.g=0,this.M=0,this.S=0},p={j:{configurable:!0},F:{configurable:!0},O:{configurable:!0},W:{configurable:!0},A:{configurable:!0},B:{configurable:!0},L:{configurable:!0},T:{configurable:!0},P:{configurable:!0},C:{configurable:!0},N:{configurable:!0},k:{configurable:!0},D:{configurable:!0},H:{configurable:!0},_:{configurable:!0},q:{configurable:!0},R:{configurable:!0},U:{configurable:!0},V:{configurable:!0}};p.j.get=function(){return this.p},p.j.set=function(t){this.p!==t&&(this.p=t,this.J=void 0)},p.F.get=function(){return ge(this.v,this.l,this.u,this.j,this.o)},p.O.get=function(){return this.G===void 0&&(this.G=O(this.t,ge(this.v,this.l,this.u,1,this.o),this.m)),this.G},p.W.get=function(){return this.O*this.j},p.A.get=function(){return this.M*this.j},p.A.set=function(t){this.M=t/this.j},p.B.get=function(){return this.S*this.j},p.B.set=function(t){this.S=t/this.j},p.L.get=function(){return ue(this.W,this.j,this.i)},p.T.get=function(){return P(this.W,this.j,this.i)},p.P.get=function(){return this.A-this.L/2},p.C.get=function(){return this.B-this.T/2},p.N.get=function(){return this.g},p.N.set=function(t){this.g!==t&&(this.g=t,this.J=void 0)},p.k.get=function(){return this.J===void 0&&(this.J=function(t,i,l,s,g,d,r,y,k){var E=ge(i,l,s,g*=4,d),S=r*g*2,$=S+O(t,E,k),Y=S+g,Z=k(),V=Z.getContext("2d"),ie=Ce(ue($,Y,y),4),ce=Ce(P($,Y,y),4);Z.width=ie,Z.height=ce,V.translate(ie/2,ce/2),V.rotate(y),V.font=E,V.textAlign="center",V.textBaseline="middle",V.fillText(t,0,0),S>0&&(V.miterLimit=1,V.lineWidth=S,V.strokeText(t,0,0));for(var _e=V.getImageData(0,0,ie,ce).data,Se=[],be=1/0,ke=0,we=1/0,Ee=0,$e=ie/4,xe=ce/4,fe=0;fe<$e;++fe)for(var de=0;de<xe;++de)e:for(var De=0;De<4;++De)for(var Ie=0;Ie<4;++Ie)if(_e[4*(ie*(4*de+Ie)+(4*fe+De))+3]){Se.push([fe,de]),be=Math.min(fe,be),ke=Math.max(fe+1,ke),we=Math.min(de,we),Ee=Math.max(de+1,Ee);break e}return Se.length>0?[Se.map(function(Pe){var Ge=Pe[0],m=Pe[1];return[Ge-be,m-we]}),ke-be,Ee-we,Math.ceil($e/2)-be,Math.ceil(xe/2)-we]:[Se,0,0,0,0]}(this.t,this.v,this.l,this.u,this.j,this.o,this.N,this.i,this.m)),this.J},p.D.get=function(){return this.k[0]},p.H.get=function(){return this.k[1]},p._.get=function(){return this.k[2]},p.q.get=function(){return this.k[3]},p.R.get=function(){return this.k[4]},p.U.get=function(){return Math.ceil(this.A)-this.q},p.U.set=function(t){this.A=t+this.q},p.V.get=function(){return Math.ceil(this.B)-this.R},p.V.set=function(t){this.B=t+this.R},Object.defineProperties(Ae.prototype,p);var Be={cloudWords:function(t){this.$emit("update:cloudWords",t)},progress:{handler:function(t){this.$emit("update:progress",t)},deep:!0,immediate:!0}},Ke={updateElementSize:function(){var t=this.$el;t&&(this.elementWidth=t.offsetWidth,this.elementHeight=t.offsetHeight)}},Oe={name:"VueWordCloud",mixins:[function(t){return{data:function(){var i={};return Object.keys(t).forEach(function(l){i[L+l]={}}),i},computed:{},beforeCreate:function(){var i=this,l=new Set;Object.entries(t).forEach(function(s){var g=s[0],d=s[1],r=d.get,y=d.default,k=d.errorHandler;k===void 0&&(k=c);var E,S=!0;i.$options.computed[g]=function(){return this[L+g],this[_+g],y},i.$options.computed[_+g]=function(){var $=this;E&&(E.interrupt(),l.delete(E)),S&&(S=!1,u(y)&&(y=y.call(this)));var Y=new n(y);E=Y,l.add(E),new Promise(function(Z){Z(r.call($,Y))}).then(function(Z){Y.throwIfInterrupted(),y=Z,$[L+g]={}}).catch(k)}})}}}({cloudWords:{get:function(t){var i,l=this,s=this,g=s.elementWidth,d=s.elementHeight,r=s.words,y=s.text,k=s.weight,E=s.rotation,S=s.rotationUnit,$=s.fontFamily,Y=s.fontWeight,Z=s.fontVariant,V=s.fontStyle,ie=s.color,ce=s.spacing,_e=s.fontSizeRatio,Se=s.createCanvas,be=s.loadFont,ke=s.createWorker;i=_e,_e=(i=Math.abs(i))>1?1/i:i;var we=function(m){var M=m[0],q=m[1];return M>q?[1,q/M]:q>M?[M/q,1]:[1,1]}([g,d]);if(g>0&&d>0){var Ee=N(y),$e=N(k),xe=N(E),fe=N(S),de=N($),De=N(Y),Ie=N(Z),Pe=N(V),Ge=N(ie);return r=r.map(function(m,M){var q,T,te,z,ne,v,b,D,J,U,ae;m&&(ee(m)?te=m:pe(m)?(te=(q=m)[0],z=q[1]):Q(m)&&(te=(T=m).text,z=T.weight,ne=T.rotation,v=T.rotationUnit,b=T.fontFamily,D=T.fontWeight,J=T.fontVariant,U=T.fontStyle,ae=T.color)),I(te)&&(te=Ee(m,M,r)),I(z)&&(z=$e(m,M,r)),I(ne)&&(ne=xe(m,M,r)),I(v)&&(v=fe(m,M,r)),I(b)&&(b=de(m,M,r)),I(D)&&(D=De(m,M,r)),I(J)&&(J=Ie(m,M,r)),I(U)&&(U=Pe(m,M,r)),I(ae)&&(ae=Ge(m,M,r));var X=new Ae(te,function(){switch(v){case"turn":return ne*K;case"deg":return function(R){return R*G}(ne)}return ne}(),b,D,J,U,Se);return Object.assign(X,{I:m,K:z,X:ae}),X}),Promise.resolve().then(function(){return Promise.all(r.map(function(m){var M=m.o,q=m.v,T=m.u,te=m.t;return be(M,q,T,te)}))}).catch(c).then(function(){if(r=r.filter(function(v){return v.W>0}).sort(function(v,b){return b.K-v.K}),r.length>0){var m=r[0],M=function(v){return v[b=v,b.length-1];var b}(r),q=m.K,T=M.K;if(T<q){var te=_e>0?1/_e:T>0?q/T:q<0?T/q:1+q-T;r.forEach(function(v){var b,D,J;v.j=(b=v.K,(J=1)+(b-(D=T))*(te-J)/(q-D))})}r.reduceRight(function(v,b){return b.j<2*v?b.j/=v:(v=b.j,b.j=1),b.Y=v},1),r.forEach(function(v){v.j*=4});var z=ke(`!function(){"use strict";var r=function(t){self.removeEventListener("message",r);var n,e,a,f,i,u=t.data,o=function(){n={},e=0,a=0,f=0,i=0};o();var s=function(){return Math.ceil((e+a)/2)},v=function(){return Math.ceil((f+i)/2)},c=function(){return{left:s(),top:v(),width:a-e,height:i-f}},l=function(r,t,u){r.forEach((function(r){var o=r[0],s=r[1],v=t+o,c=u+s;n[v+"|"+c]=!0,e=Math.min(v,e),a=Math.max(v+1,a),f=Math.min(c,f),i=Math.max(c+1,i)}))},h=function(r,t,e){return function(r,t,n){var e,a,f=r[0],i=r[1],u=t[0],o=t[1];f>i?(e=1,a=i/f):i>f?(a=1,e=f/i):e=a=1;var s=[u,o];if(n(s))return s;for(var v=u,c=o,l=u,h=o,M=v,d=c;;){u-=e,o-=a,v+=e,c+=a;var m=Math.floor(u),g=Math.floor(o),p=Math.ceil(v),E=Math.ceil(c);if(p>M)for(var L=g;L<E;++L){var x=[p,L];if(n(x))return x}if(E>d)for(var y=p;y>m;--y){var w=[y,E];if(n(w))return w}if(m<l)for(var B=E;B>g;--B){var F=[m,B];if(n(F))return F}if(g<h)for(var b=m;b<p;++b){var j=[b,g];if(n(j))return j}l=m,h=g,M=p,d=E}}(u,[t+s(),e+v()],(function(t){var e=t[0],a=t[1];return function(r,t,e){return r.every((function(r){var a=r[0],f=r[1];return!n[t+a+"|"+(e+f)]}))}(r,e,a)}))};self.postMessage({}),self.addEventListener("message",(function(r){self.postMessage({getBounds:c,put:l,findFit:h,clear:o}[r.data.name].apply(null,r.data.args))}))};self.addEventListener("message",r)}();
`),ne={completedWords:0,totalWords:r.length};return Promise.resolve().then(function(){return t.throwIfInterrupted(),l.progress=ne,h(z,we)}).then(function(){t.throwIfInterrupted(),ne.completedWords++;var v=Promise.resolve();return r.reduce(function(b,D,J){return v=v.then(function(){return D.Y<b.Y?Promise.resolve().then(function(){return h(z,{name:"clear"})}).then(function(){var U=Promise.resolve(),ae=b.Y/D.Y;return r.slice(0,J).forEach(function(X){U=U.then(function(){return X.j*=ae,h(z,{name:"put",args:[X.D,X.U,X.V]})})}),U}):h(z,{name:"put",args:[b.D,b.U,b.V]})}).then(function(){return D.N=ce,h(z,{name:"findFit",args:[D.D,D.U,D.V]})}).then(function(U){var ae=U[0],X=U[1];t.throwIfInterrupted(),ne.completedWords++,D.U=ae,D.V=X,D.N=0}),D}),v}).then(function(){return h(z,{name:"put",args:[M.D,M.U,M.V]})}).then(function(){return h(z,{name:"getBounds"})}).then(function(v){var b=v.left,D=v.top,J=v.width,U=v.height;if(J>0&&U>0){var ae=Math.min(g/J,d/U);r.forEach(function(R){R.A-=b,R.B-=D,R.j*=ae})}var X=new Set;return r.map(function(R){for(var ct=R.I,Je=R.t,ft=R.K,dt=R.i,vt=R.o,ht=R.u,mt=R.l,pt=R.v,gt=R.F,yt=R.A,bt=R.B,wt=R.X,qe=JSON.stringify([Je,vt,ht,mt,pt]);X.has(qe);)qe+="!";return X.add(qe),{key:qe,word:ct,text:Je,weight:ft,rotation:dt,font:gt,color:wt,left:yt,top:bt}})}).finally(function(){z.terminate()}).finally(function(){t.throwIfInterrupted(),l.progress=null})}return[]})}return[]},default:se}})],props:me,data:function(){return{elementWidth:0,elementHeight:0,progress:null}},computed:le,watch:Be,mounted:function(){var t,i,l,s,g=this;t=function(){if(g._isDestroyed)return!1;g.updateElementSize()},i=1e3,(l=function(d){requestAnimationFrame(function(){t()!==!1&&setTimeout(d,i)})},s=function(){for(var d=[],r=arguments.length;r--;)d[r]=arguments[r];return l.call.apply(l,[this,s].concat(d))},s)()},methods:Ke,render:function(){var t=this,i=t.$slots,l=t.animationEasing,s=t.animationOptions,g=t.cloudWords,d=t.separateAnimationDelay,r=t.separateAnimationDuration;return i=Object.assign({},{default:function(y){return y.text}},i),a.h("div",{style:{height:"100%",position:"relative",width:"100%"}},[a.h("div",{style:{bottom:"50%",position:"absolute",right:"50%",transform:"translate(50%,50%)"}},g.map(function(y,k){var E=y.color,S=y.font,$=y.left,Y=y.rotation,Z=y.text,V=y.top,ie=y.weight,ce=y.word;return a.h("transition",Object.assign({},s),[a.h("div",{key:k,style:Object.assign({},{left:$+"px",position:"absolute",top:V+"px"},r>0?{animation:[r+"ms",l,d*k+"ms"].join(" "),transition:["all",r+"ms",l,d*k+"ms"].join(" ")}:{})},[a.h("div",{style:Object.assign({},{bottom:"50%",color:E,font:S,position:"absolute",right:"50%",transform:["translate(50%,50%)","rotate("+Y+"rad)"].join(" "),whiteSpace:"nowrap"},r>0?{transition:["all",r+"ms",l,d*k+"ms"].join(" ")}:{})},[i.default({color:E,font:S,left:$,text:Z,top:V,weight:ie,word:ce})])])])}))])}},H=globalThis.window;if(H){var ye=H.Vue;ye&&ye.component(Oe.name,Oe)}return Oe})})(ut);var co=ut.exports;const fo=Ba(co);const vo=Ye({name:"Cover",components:{Vue3WordCloud:fo},props:{detail:{type:Object,required:!0},poster:{type:String},wordCloud:{type:Array},warpStyle:{type:Object}},setup(e,{emit:o}){const a=He({posterBg:lo,coverType:0,styleMap:[{height:"58vw",width:"90vw"},{height:"105vw",width:"90vw"},{height:"70vw",width:"90vw"}]}),u=ve(()=>a.styleMap[a.coverType]);function c(){a.coverType=a.coverType+1>a.styleMap.length?0:a.coverType+1}function n(){Ga("exportPoster",e.detail.lrcName)}function f(){a.coverType=0,a.styleMap.map((_,L)=>(L>0&&setTimeout(()=>{a.coverType++},(L-1)*4500+500),setTimeout(()=>{n()},L*4500),!0)),setTimeout(()=>{a.coverType=0},a.styleMap.length*4500-4e3)}return{...st(a),wordCloudStyle:u,changeCoverType:c,downloadPoster:n,downloadAllPoster:f}}}),ho={class:"singer"},mo={class:"poster-cover"},po=["src"],go=["src"],yo={class:"words-cloud"};function bo(e,o,a,u,c,n){const f=Me("vue3-word-cloud");return W(),F("div",{id:"exportPoster",class:Te(["poster-warp",{middle:e.coverType==1,long:e.coverType==2}]),style:Re(e.warpStyle)},[C("div",{class:"song-info",onClick:o[0]||(o[0]=(..._)=>e.changeCoverType&&e.changeCoverType(..._))},[C("p",null,oe(e.detail.song),1),C("p",ho,oe(e.detail.singer),1)]),C("div",mo,[C("img",{class:"cover-bg",src:e.posterBg},null,8,po),C("img",{class:"cover",src:e.poster},null,8,go)]),C("div",yo,[j(f,{style:Re(e.wordCloudStyle),color:([,_])=>(_%2,"#00000080"),words:e.wordCloud,"font-size-ratio":2.5,spacing:.3,"font-family":"Merienda"},null,8,["style","color","words"])])],6)}const wo=lt(vo,[["render",bo],["__scopeId","data-v-9a4fc45f"]]);(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.vue3-marquee{display:flex!important;position:relative}.vue3-marquee.horizontal{overflow-x:hidden!important;flex-direction:row!important;width:100%;height:max-content}.vue3-marquee.vertical{overflow-y:hidden!important;flex-direction:column!important;height:100%;width:max-content}.vue3-marquee:hover>.marquee{animation-play-state:var(--pauseOnHover)}.vue3-marquee:active>.marquee{animation-play-state:var(--pauseOnClick)}.vue3-marquee>.marquee{flex:0 0 auto;min-width:var(--min-width);min-height:var(--min-height);z-index:1;animation:var(--orientation) var(--duration) linear var(--delay) var(--loops);animation-play-state:var(--pauseAnimation);animation-direction:var(--direction)}.vue3-marquee.horizontal>.marquee{display:flex;flex-direction:row;align-items:center}.vue3-marquee.vertical>.marquee{display:flex;flex-direction:column;align-items:center}@keyframes scrollX{0%{transform:translate(0)}to{transform:translate(-100%)}}@keyframes scrollY{0%{transform:translateY(0)}to{transform:translateY(-100%)}}.vue3-marquee>.overlay{position:absolute;width:100%;height:100%}.vue3-marquee>.transparent-overlay{position:absolute;width:100%;height:100%}.vue3-marquee>.overlay:before,.vue3-marquee>.overlay:after{content:"";position:absolute;z-index:2}.vue3-marquee.horizontal>.overlay:before,.vue3-marquee.horizontal>.overlay:after{background:linear-gradient(to right,var(--gradient-color));height:100%;width:var(--gradient-length)}.vue3-marquee.vertical>.overlay:before,.vue3-marquee.vertical>.overlay:after{background:linear-gradient(to bottom,var(--gradient-color));height:var(--gradient-length);width:100%}.vue3-marquee.horizontal>.overlay:after{transform:rotate(180deg)}.vue3-marquee.vertical>.overlay:after{transform:rotate(-180deg)}.vue3-marquee>.overlay:before{left:0;top:0}.vue3-marquee.horizontal>.overlay:after{right:0;top:0}.vue3-marquee.vertical>.overlay:after{left:0;bottom:0}')),document.head.appendChild(e)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();var Co=Object.defineProperty,Qe=Object.getOwnPropertySymbols,Oo=Object.prototype.hasOwnProperty,_o=Object.prototype.propertyIsEnumerable,Ze=(e,o,a)=>o in e?Co(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,et=(e,o)=>{for(var a in o||(o={}))Oo.call(o,a)&&Ze(e,a,o[a]);if(Qe)for(var a of Qe(o))_o.call(o,a)&&Ze(e,a,o[a]);return e},So=(e,o)=>{const a=e.__vccOpts||e;for(const[u,c]of o)a[u]=c;return a};const Mo=Ye({props:{vertical:{type:Boolean,default:!1},direction:{type:String,default:"normal"},duration:{type:Number,default:20},delay:{type:Number,default:0},loop:{type:Number,default:0},clone:{type:Boolean,default:!1},gradient:{type:Boolean,default:!1},gradientColor:{type:Array,default:[255,255,255]},gradientWidth:{type:String},gradientLength:{type:String},pauseOnHover:{type:Boolean,default:!1},pauseOnClick:{type:Boolean,default:!1},pause:{type:Boolean,default:!1},animateOnOverflowOnly:{type:Boolean,default:!1}},emits:["onComplete","onLoopComplete","onPause","onResume","onOverflowDetected","onOverflowCleared"],setup(e,{emit:o}){const a=w(0),u=w("100%"),c=w("100%"),n=w(0),f=w(!1),_=w(!1),L=w(0),B=w(0),se=w(0),me=w(0),re=w(!1),Q=w(!1),ee=w(0),le=w(null),pe=w("200px"),N=w(!1),K=w(null),G=w(null),I=async()=>{await h(),n.value++},h=async()=>{e.vertical&&(f.value=!0),setInterval(()=>{if(u.value="0%",c.value="0%",K.value!==null&&G.value!==null&&K.value&&G.value)if(e.vertical&&"clientHeight"in K.value&&"clientHeight"in G.value){me.value=K.value.clientHeight,se.value=G.value.clientHeight;const H=Math.ceil(se.value/me.value);return a.value=isFinite(H)?H:0,f.value=!1,a.value}else if(!e.vertical&&"clientWidth"in K.value&&"clientWidth"in G.value){if(B.value=K.value.clientWidth,L.value=G.value.clientWidth,e.animateOnOverflowOnly)return B.value<L.value?(_.value=!0,o("onOverflowDetected")):(_.value=!1,o("onOverflowCleared")),0;const H=Math.ceil(L.value/B.value);return a.value=isFinite(H)?H:0,a.value}else return u.value="100%",c.value="100%",0;else return u.value="100%",c.value="100%",0},100)};Ve(B,async()=>{e.clone&&I()}),Ve(L,async()=>{(e.clone||e.animateOnOverflowOnly)&&I()}),Ve(()=>e.pause,(H,ye)=>{H!==ye&&o(H?"onResume":"onPause")});const P=()=>{e.pauseOnHover&&(o("onPause"),re.value=!0)},ue=()=>{e.pauseOnHover&&(o("onResume"),re.value=!1)},ge=()=>{e.pauseOnClick&&(o("onPause"),Q.value=!0)},Ce=()=>{e.pauseOnClick&&(o("onResume"),Q.value=!1)},O=ve(()=>e.pause||e.vertical&&f.value||e.animateOnOverflowOnly&&_.value?"paused":"running"),Ae=ve(()=>e.pauseOnHover&&(re.value||Q.value)||!e.pauseOnHover&&O.value==="paused"?"paused":"running"),p=ve(()=>e.pauseOnHover&&re.value||e.pauseOnClick&&Q.value||!e.pauseOnHover&&O.value==="paused"?"paused":"running"),Be=ve(()=>{const H={"--duration":`${e.duration}s`,"--delay":`${e.delay}s`,"--direction":`${e.direction}`,"--pauseOnHover":`${Ae.value}`,"--pauseOnClick":`${p.value}`,"--pauseAnimation":`${O.value}`,"--loops":`${e.loop===0?"infinite":e.loop}`,"--gradient-color":`rgba(${e.gradientColor[0]}, ${e.gradientColor[1]}, ${e.gradientColor[2]}, 1), rgba(${e.gradientColor[0]}, ${e.gradientColor[1]}, ${e.gradientColor[2]}, 0)`,"--gradient-length":`${pe.value}`,"--min-width":`${u.value}`,"--min-height":`${c.value}`},ye={"--orientation":"scrollX",orientation:"horizontal"};return e.vertical&&(ye["--orientation"]="scrollY"),et(et({},H),ye)}),Ke=ve(()=>!!e.gradient),Oe=async()=>{e.vertical?(c.value="100%",u.value="auto",e.animateOnOverflowOnly&&console.warn("The `animateOnOverflowOnly` prop is not supported for vertical marquees.")):(c.value="auto",e.animateOnOverflowOnly?u.value="auto":u.value="100%"),e.gradient&&(e.gradientWidth?(console.warn("The `gradientWidth` prop has been deprecated and will be removed in a future release. Please use `gradientLength` instead."),pe.value=e.gradientWidth):e.gradientLength&&(pe.value=e.gradientLength)),(e.clone||e.animateOnOverflowOnly)&&(await h(),I()),N.value=!0};return at(async()=>{Oe(),le.value=setInterval(()=>{ee.value++,e.loop!==0&&ee.value===e.loop&&(o("onComplete"),clearInterval(le.value)),o("onLoopComplete")},e.duration*1e3)}),nt(()=>{clearInterval(le.value)}),{ready:N,contentWidth:B,containerWidth:L,contentHeight:me,containerHeight:se,loopCounter:ee,loopInterval:le,mouseOverMarquee:re,mouseDownMarquee:Q,minWidth:u,minHeight:c,animateOnOverflowPause:_,marqueeContent:K,marqueeOverlayContainer:G,componentKey:n,showGradient:Ke,cloneAmount:a,ForcesUpdate:I,checkForClone:h,setupMarquee:Oe,getCurrentStyle:Be,hoverStarted:P,hoverEnded:ue,mouseDown:ge,mouseUp:Ce}}}),jo={class:"transparent-overlay",ref:"marqueeOverlayContainer","aria-hidden":!0},ko={class:"marquee",ref:"marqueeContent"},Eo={key:1,"aria-hidden":!0,class:"marquee"};function Do(e,o,a,u,c,n){return e.ready?(W(),F("div",{class:Te(["vue3-marquee",{vertical:e.vertical,horizontal:!e.vertical}]),style:Re(e.getCurrentStyle),key:e.componentKey,onMouseenter:o[0]||(o[0]=(...f)=>e.hoverStarted&&e.hoverStarted(...f)),onMouseleave:o[1]||(o[1]=(...f)=>e.hoverEnded&&e.hoverEnded(...f)),onMousedown:o[2]||(o[2]=(...f)=>e.mouseDown&&e.mouseDown(...f)),onMouseup:o[3]||(o[3]=(...f)=>e.mouseUp&&e.mouseUp(...f))},[C("div",jo,null,512),e.showGradient?(W(),F("div",{key:0,"aria-hidden":!0,class:Te(["overlay",{vertical:e.vertical,horizontal:!e.vertical}])},null,2)):je("",!0),C("div",ko,[Le(e.$slots,"default")],512),!e.animateOnOverflowOnly||e.animateOnOverflowOnly&&!e.animateOnOverflowPause?(W(),F("div",Eo,[Le(e.$slots,"default")])):je("",!0),(W(!0),F(Ue,null,Fe(e.cloneAmount,f=>(W(),F("div",{"aria-hidden":!0,class:"marquee cloned",key:f},[Le(e.$slots,"default")]))),128))],38)):je("",!0)}var Io=So(Mo,[["render",Do]]);const he=e=>(rt("data-v-4af96296"),e=e(),ot(),e),To={class:"song-detail"},Ro={class:"opt-btns"},Ao={class:"video-info"},$o=he(()=>C("br",null,null,-1)),xo=he(()=>C("br",null,null,-1)),Po=he(()=>C("br",null,null,-1)),qo=he(()=>C("br",null,null,-1)),Wo=he(()=>C("br",null,null,-1)),Lo=he(()=>C("br",null,null,-1)),No=he(()=>C("br",null,null,-1)),Vo={class:"opt-btns"},zo={key:0,class:"video-warp"},Uo=he(()=>C("div",{class:"mosaic"},null,-1)),Ho={class:"summary-warp"},Fo={__name:"detail",setup(e){const o=Ka(),a=w(),u=w(),c=w(),n=He({baseInfo:{},videoOptions:{},lrcDetail:{},wordCloudList:[],summaryList:[],showSummary:!1,configDialog:{show:!1,lyrics:null,video:null,headTime:0}}),f=w([]),_=ve(()=>no(n.baseInfo));function L(){n.songNum=Number(so.getQuery("index")),n.baseInfo=He(oo[n.songNum||0]),n.videoOptions=Ya(n.baseInfo),Ja(n.baseInfo.lrcName).then(I=>{if(n.lrcDetail=I,n.lrcDetail.lyrics){f.value=n.lrcDetail.lyrics;const h=Xa(f.value);n.wordCloudList=h.wordCloudList,n.summaryList=h.summaryList}console.log(n.lrcDetail)})}function B(){f.value=Xe(it(n.lrcDetail.apiInfo),n.baseInfo)}function se(){n.configDialog.lyrics&&(f.value=Xe(JSON.parse(n.configDialog.lyrics),n.baseInfo)),n.videoOptions.src=n.configDialog.video}function me(){n.configDialog.show=!0,n.configDialog.video=n.videoOptions.src,n.configDialog.headTime=n.baseInfo.headTime||0,n.configDialog.lyrics=null}function re(){Qa(f.value)}function Q(){a.value.togglePlay()}function ee(){u.value.togglePlay()}function le(){u.value.curNum--}function pe(){u.value.curNum++}function N(){c.value.downloadPoster()}function K(){o.push({path:"/english"})}function G(I){o.push({path:"/english/detail",query:{index:I}})}return L(),(I,h)=>{const P=Me("van-button"),ue=Me("van-field"),ge=Me("van-cell-group"),Ce=Me("van-action-sheet");return W(),F("div",To,[C("div",Ro,[j(P,{plain:"",size:"small",onClick:K},{default:x(()=>[A("返回")]),_:1}),j(P,{plain:"",size:"small",onClick:re},{default:x(()=>[A("生成字幕")]),_:1}),j(P,{plain:"",size:"small",onClick:me},{default:x(()=>[A("更改配置")]),_:1}),j(P,{plain:"",size:"small",onClick:h[0]||(h[0]=O=>G(n.songNum-1))},{default:x(()=>[A("上一首")]),_:1}),j(P,{plain:"",size:"small",onClick:h[1]||(h[1]=O=>G(n.songNum+1))},{default:x(()=>[A("下一首")]),_:1})]),j(Ce,{show:n.configDialog.show,"onUpdate:show":h[5]||(h[5]=O=>n.configDialog.show=O),title:"更改配置"},{description:x(()=>[j(P,{round:"",block:"",type:"primary",size:"small",onClick:se},{default:x(()=>[A("提交")]),_:1})]),default:x(()=>[j(ge,{inset:""},{default:x(()=>[j(ue,{modelValue:n.configDialog.video,"onUpdate:modelValue":h[2]||(h[2]=O=>n.configDialog.video=O),label:"视频",type:"textarea",rows:"1",autosize:""},null,8,["modelValue"]),j(ue,{modelValue:n.configDialog.headTime,"onUpdate:modelValue":h[3]||(h[3]=O=>n.configDialog.headTime=O),label:"歌词开头时间",type:"number"},null,8,["modelValue"]),j(ue,{modelValue:n.configDialog.lyrics,"onUpdate:modelValue":h[4]||(h[4]=O=>n.configDialog.lyrics=O),label:"歌词",type:"textarea",rows:"1",autosize:""},null,8,["modelValue"])]),_:1})]),_:1},8,["show"]),C("p",Ao,[C("span",null,[A(" 【听歌学英语-"+oe(n.baseInfo.describe)+"】 ",1),(W(!0),F(Ue,null,Fe(n.baseInfo.level,O=>(W(),F("span",{key:O},"★"))),128)),A(" "+oe(n.baseInfo.song)+"-"+oe(n.baseInfo.singer),1)]),$o,xo,A(" 【歌曲】"+oe(n.baseInfo.song),1),Po,A(" 【歌手】"+oe(n.baseInfo.singer),1),qo,A(" 【简介】"+oe(n.baseInfo.comment),1),Wo,A(" 【学习内容】"+oe(n.summaryList.join("、"))+" #英语 #音乐 #学习",1),Lo,No]),j(wo,{ref_key:"songCover",ref:c,warpStyle:_.value,detail:n.baseInfo,wordCloud:n.wordCloudList,poster:n.videoOptions.poster},null,8,["warpStyle","detail","wordCloud","poster"]),C("div",Vo,[j(P,{plain:"",size:"small",onClick:Q},{default:x(()=>[A("开始/暂停")]),_:1}),j(P,{plain:"",size:"small",onClick:B},{default:x(()=>[A("生成歌词")]),_:1}),j(P,{plain:"",size:"small",onClick:N},{default:x(()=>[A("保存图片")]),_:1}),j(P,{plain:"",size:"small",onClick:le},{default:x(()=>[A("上一句")]),_:1}),j(P,{plain:"",size:"small",onClick:pe},{default:x(()=>[A("下一句")]),_:1})]),j(Ne(to),{content:"赶紧学英语呀",color:"#ffffff1a",fontSize:12},{default:x(()=>[n.baseInfo?(W(),F("div",{key:0,style:Re(_.value),class:Te(["record-warp",n.baseInfo.className])},[n.showSummary?(W(),We(Ne(Io),{key:1,vertical:!0,loop:1,delay:.3,duration:n.summaryList.length*.3,style:{height:"177.8vw"}},{default:x(()=>[C("div",Ho,[(W(!0),F(Ue,null,Fe(n.summaryList,O=>(W(),We(ao,{key:O,note:O},null,8,["note"]))),128))])]),_:1},8,["duration"])):(W(),F("div",zo,[n.baseInfo.mvName?(W(),We(Ne(Za),tt({key:0},n.videoOptions,{ref_key:"mvVideo",ref:a,onEnded:h[6]||(h[6]=O=>n.showSummary=!0),onPlay:ee,onPause:ee}),null,16)):je("",!0),Uo,j(eo,{ref_key:"lyricListShow",ref:u,lrc:f.value,detail:n.baseInfo},null,8,["lrc","detail"])]))],6)):je("",!0)]),_:1})])}}},Jo=lt(Fo,[["__scopeId","data-v-4af96296"]]);export{Jo as default};
