import{r as B,j as C,k as P,e as L,w as o,u as v,f as n,o as N,g as e,i as u,h as d,m as f,s as h,v as T}from"./index-66c524b0.js";import{Y as U}from"./index-44a4de81.js";import{L as j}from"./index-2360af99.js";const Y={class:"form-btn"},q={class:"handle"},z=d("a",{href:"javascript:;"},"《用户隐私协议》",-1),p="onBlur",H={__name:"register",setup(F){const t=B({phone:"",password:"",code:""}),c={phone:[{validator:(l,a)=>l?T(l)?!0:"手机号格式不正确！":"请填写手机号码！",trigger:p}],password:[{required:!0,message:"密码不能为空",trigger:p}],code:[{pattern:/\d{6}/,message:"验证码格式不正确",trigger:p}]},b=C(()=>{const{phone:l,password:a,code:r}=t;return!!(l&&a&&r)}),_=P(!1);async function g(){try{f("短信发送成功")}catch{h("获取短信失败，请稍后再试...")}}const w=async l=>{try{f("注册成功")}catch{h("注册失败，请稍后再试...")}};return(l,a)=>{const r=n("van-field"),i=n("van-col"),m=n("van-button"),y=n("van-row"),V=n("van-cell-group"),k=n("van-form"),x=n("van-radio"),S=n("van-radio-group");return N(),L(v(j),null,{body:o(()=>[e(k,{"label-width":"0",onSubmit:w},{default:o(()=>[e(V,{inset:""},{default:o(()=>[e(r,{modelValue:t.phone,"onUpdate:modelValue":a[0]||(a[0]=s=>t.phone=s),rules:c.phone,name:"phone",label:"",placeholder:"手机号",maxlength:"11",clearable:""},null,8,["modelValue","rules"]),e(v(U),{password:t.password,rules:c.password,placeholder:"登录密码",label:"",maxlength:16,clearable:!0},null,8,["password","rules"]),e(y,{gutter:"20"},{default:o(()=>[e(i,{span:"16"},{default:o(()=>[e(r,{modelValue:t.code,"onUpdate:modelValue":a[1]||(a[1]=s=>t.code=s),rules:c.code,name:"code",label:"",placeholder:"验证码",maxlength:"6",clearable:""},null,8,["modelValue","rules"])]),_:1}),e(i,{span:"8"},{default:o(()=>[e(m,{disabled:!t.phone,plain:"",hairline:"",round:"",size:"small",onClick:g,class:"code-btn"},{default:o(()=>[u("获取验证码")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1}),d("div",Y,[e(m,{round:"",block:"",type:"primary","native-type":"submit",class:"btn-item h50",disabled:!b.value},{default:o(()=>[u(" 注册 ")]),_:1},8,["disabled"])])]),_:1})]),foot:o(()=>[d("div",null,[d("div",q,[e(S,{modelValue:_.value,"onUpdate:modelValue":a[2]||(a[2]=s=>_.value=s)},{default:o(()=>[e(x,{name:"1","checked-color":"var( --yu-yellow-color )"},{default:o(()=>[u(" 同意"),z]),_:1})]),_:1},8,["modelValue"])])])]),_:1})}}};export{H as default};
